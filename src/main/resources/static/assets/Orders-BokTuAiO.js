import{g as b}from"./orderService-Da9jDHWp.js";import{d as m,r as _,b as i,e as t,F as u,f as p,t as a,g as x,k as y,p as v,m as f,x as k,o as d}from"./index-BOCYwNje.js";const C={class:"orders"},h={class:"container"},P={class:"table table-bordered my-4"},$={class:"text-center"},E={class:"pagination d-flex justify-content-center pt-2"},L=["disabled"],N={class:"btn-group",role:"group"},w=["onClick"],z={class:"mx-2"},B=["disabled"],S=["disabled"],V=["disabled"],T=m({__name:"Orders",setup(F){const e=_({args:{page:0,size:5},page:{index:0,totalPages:0,totalElements:0},orders:[]}),g=l=>e.page.totalElements-e.page.index*e.args.size-l,o=async l=>{l!=null&&(e.args.page=l);const n=await b(e.args);n.status===200?(e.orders=n.data.content,e.page.index=n.data.number,e.page.totalPages=n.data.totalPages,e.page.totalElements=n.data.totalElements):alert("주문 목록 불러오기 실패")};return async function(){await o(void 0)}(),(l,n)=>{const c=f("router-link");return d(),i("div",C,[t("div",h,[t("table",P,[n[5]||(n[5]=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"번호"),t("th",null,"주문자"),t("th",null,"결제 수단"),t("th",null,"결제 금액"),t("th",null,"결제 일시"),t("th",null,"자세히 보기")])],-1)),t("tbody",null,[(d(!0),i(u,null,p(e.orders,(s,r)=>(d(),i("tr",null,[t("td",$,a(g(r)),1),t("td",null,a(s.name),1),t("td",null,a(s.payment==="card"?"카드":"무통장입금"),1),t("td",null,a(s.amount.toLocaleString())+"원",1),t("td",null,a(s.created.toLocaleString()),1),t("td",null,[x(c,{to:`/orders/${s.id}`},{default:y(()=>n[4]||(n[4]=[v("자세히 보기")])),_:2},1032,["to"])])]))),256))])]),t("div",E,[t("button",{class:"btn btn-outline-primary",onClick:n[0]||(n[0]=s=>o(0)),disabled:e.page.index===0},"처음",8,L),t("div",N,[(d(!0),i(u,null,p(e.page.totalPages,(s,r)=>(d(),i("button",{class:k(["btn py-2 px-3",[e.page.index===r?"btn-primary":"btn-outline-secondary"]]),onClick:O=>o(r)},a(s),11,w))),256)),t("span",z,"페이지 "+a(e.page.index+1)+" / "+a(e.page.totalPages),1)]),t("button",{class:"btn btn-outline-primary",onClick:n[1]||(n[1]=s=>o(e.page.index-1)),disabled:e.page.index===0},"이전",8,B),t("button",{class:"btn btn-outline-primary",onClick:n[2]||(n[2]=s=>o(e.page.index+1)),disabled:e.page.index===e.page.totalPages-1},"다음",8,S),t("button",{class:"btn btn-outline-primary",onClick:n[3]||(n[3]=s=>o(e.page.totalPages-1)),disabled:e.page.index===e.page.totalPages-1},"마지막",8,V)])])])}}});export{T as default};
